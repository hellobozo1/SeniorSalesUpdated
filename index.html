<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cashier System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* CSS styles remain the same */
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      margin: 0;
      flex-direction: column;
    }

    .container {
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      padding: 24px;
      max-width: 800px;
      width: 100%;
      margin-bottom: 20px;
    }

    .item-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 16px;
      flex-wrap: wrap;
    }

    .item-box {
      background-color: #f0f0f0;
      border-radius: 15px;
      padding: 16px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      width: 45%;
      position: relative;
      flex-wrap: wrap;
    }

    .item-box button {
      background-color: #e0e0e0;
      border: none;
      border-radius: 50%;
      color: #333333;
      cursor: pointer;
      font-size: 24px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      transition: background-color 0.3s ease;
      width: 40px;
      margin: 0 5px;
    }

    .item-box button:hover {
      background-color: #d0d0d0;
    }

    .item-box input {
      background-color: transparent;
      border: none;
      color: #333333;
      font-size: 24px;
      margin: 0 16px;
      text-align: center;
      width: 65px;
    }

    .order-button-container {
      display: flex;
      justify-content: center;
      margin-top: 24px;
    }

    .order-button {
      background-color: #4caf50;
      border: none;
      border-radius: 4px;
      color: #ffffff;
      cursor: pointer;
      font-size: 16px;
      padding: 12px 24px;
      transition: background-color 0.3s ease;
    }

    .order-button:hover {
      background-color: #45a049;
    }

    .total-box {
      background-color: #f0f0f0;
      border-radius: 5px;
      margin-top: 24px;
      padding: 16px;
    }

    .total-box p {
      font-size: 18px;
      margin: 0;
    }

    table {
      border-collapse: collapse;
      margin-top: 24px;
      width: 100%;
    }

    th, td {
      border: 1px solid #dddddd;
      padding: 8px;
      text-align: left;
    }

    th {
      background-color: #f0f0f0;
    }

    .item-image {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 50%;
      margin-right: 10px;
    }

    .item-box span {
      margin-left: 10px;
      font-size: 18px;
    }

    #fullSalesContainer {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #fullSalesTable {
      background-color: #ffffff;
      border-radius: 8px;
      padding: 24px;
      max-width: 800px;
      width: 90%;
      max-height: 80%;
      overflow-y: auto;
    }

    .sales-button {
      background-color: #007bff;
      border: none;
      border-radius: 4px;
      color: #ffffff;
      cursor: pointer;
      font-size: 16px;
      padding: 12px 24px;
      margin: 20px 0;
      transition: background-color 0.3s ease;
    }

    .sales-button:hover {
      background-color: #0056b3;
    }

    .close-button {
      background-color: #dc3545;
      border: none;
      border-radius: 4px;
      color: #ffffff;
      cursor: pointer;
      font-size: 16px;
      padding: 12px 24px;
      margin-top: 20px;
      transition: background-color 0.3s ease;
      text-align: center;
    }

    .close-button:hover {
      background-color: #c82333;
    }

    .toppings-toggle {
      display: flex;
      align-items: center;
      margin-top: 10px;
      width: 100%;
      justify-content: flex-start;
    }

    .toppings-toggle span {
      margin-right: 10px;
      font-size: 16px;
    }

    .toppings-toggle button {
      margin: 0 5px;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      background-color: #e0e0e0;
      transition: background-color 0.3s ease;
      font-size: 14px; /* Reduced font size */
    }

    .toppings-toggle button.active {
      background-color: #4caf50;
      color: #ffffff;
    }

    .toppings-toggle button:hover {
      background-color: #d0d0d0;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- First Row: Awar Galb and Lemonade -->
    <div class="item-row">
      <div class="item-box">
        <button id="decrementAwarGalb">-</button>
        <input type="number" id="awarGalbQuantity" value="0" min="0" readonly>
        <button id="incrementAwarGalb">+</button>
        <img src="https://images.deliveryhero.io/image/hungerstation/product/image_url_ref/5dc598d07cc66473b69683d700f26b87.jpg?width=1440&quality=75" alt="Awar Galb" class="item-image" id="awarGalbImage">
        <span>Awar Galb</span>
      </div>
      <div class="item-box">
        <button id="decrementLemonade">-</button>
        <input type="number" id="lemonadeQuantity" value="0" min="0" readonly>
        <button id="incrementLemonade">+</button>
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-gd8HHKpWmaj7hFpSPorlnUL4HGnaZAl5ww&s" alt="Lemonade" class="item-image" id="lemonadeImage">
        <span>Lemonade</span>
      </div>
    </div>
    <!-- Second Row: Zaatar and Nutella -->
    <div class="item-row">
      <div class="item-box">
        <button id="decrementZaatar">-</button>
        <input type="number" id="zaatarQuantity" value="0" min="0" readonly>
        <button id="incrementZaatar">+</button>
        <img src="https://www.alphafoodie.com/wp-content/uploads/2021/03/Manakish-Zaatar-1-of-1.jpeg" alt="Za'atar" class="item-image" id="zaatarImage">
        <span>Za'atar</span>
      </div>
      <div class="item-box">
        <button id="decrementNutella">-</button>
        <input type="number" id="nutellaQuantity" value="0" min="0" readonly>
        <button id="incrementNutella">+</button>
        <img src="https://images.deliveryhero.io/image/hungerstation/menus/menuitem/hsimg-17163958?width=1440&quality=75" alt="Nutella" class="item-image" id="nutellaImage">
        <span>Nutella</span>
      </div>
    </div>
    <!-- Third Row: Sausage and Kraft Cheese and Chicken Rashid -->
    <div class="item-row">
      <div class="item-box">
        <button id="decrementSausageKraft">-</button>
        <input type="number" id="sausageKraftQuantity" value="0" min="0" readonly>
        <button id="incrementSausageKraft">+</button>
        <img src="https://tryloops3bucket.s3.me-south-1.amazonaws.com/productImages/11392/16567102092907854.webp" alt="Sausage and Kraft Cheese" class="item-image" id="sausageKraftImage">
        <span>Sausage and Kraft Cheese</span>
      </div>
      <div class="item-box">
        <button id="decrementChickenRashid">-</button>
        <input type="number" id="chickenRashidQuantity" value="0" min="0" readonly>
        <button id="incrementChickenRashid">+</button>
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuI0Ts082na4TsfA8b_7BtxKvICoc9vnIPZA&s" alt="Chicken Rashid" class="item-image" id="chickenRashidImage">
        <span>Chicken Rashid</span>
      </div>
    </div>
    <!-- Fourth Row: Hashbrown and KDD Ice Cream -->
    <div class="item-row">
      <div class="item-box">
        <button id="decrementHashbrown">-</button>
        <input type="number" id="hashbrownQuantity" value="0" min="0" readonly>
        <button id="incrementHashbrown">+</button>
        <img src="https://s7d1.scene7.com/is/image/mcdonalds/mcdonalds-Hash-Brown-New:1-3-product-tile-desktop?wid=829&hei=515&dpr=off" alt="Hashbrown" class="item-image" id="hashbrownImage">
        <span>Hashbrown</span>
      </div>
      <div class="item-box">
        <button id="decrementKDDIceCream">-</button>
        <input type="number" id="kddIceCreamQuantity" value="0" min="0" readonly>
        <button id="incrementKDDIceCream">+</button>
        <img src="https://eshop.kddc.com/image/cache/catalog/ic_mc-250x250.jpg" alt="KDD Ice Cream" class="item-image" id="kddIceCreamImage">
        <span>KDD Ice Cream</span>
        <div class="toppings-toggle">
          <span>With Toppings:</span>
          <button id="toppingsNo" class="active">No</button>
          <button id="toppingsYes">Yes</button>
        </div>
      </div>
    </div>

    <div class="order-button-container">
      <button class="order-button" id="placeOrder">Place Order</button>
    </div>
    <div class="total-box">
      <p>Total: <span id="totalAmount">0.000</span> KD</p>
    </div>
    <table>
      <thead>
        <tr>
          <th>Item</th>
          <th>Quantity</th>
          <th>Total Amount Purchased</th>
          <th>Total Money Spent on All Orders</th>
        </tr>
      </thead>
      <tbody id="orderSummary">
        <tr>
          <td>Awar Galb</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>Lemonade</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>Zaatar</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>Nutella</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>Sausage and Kraft Cheese</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>Chicken Rashid</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>Hashbrown</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <td>KDD Ice Cream</td>
          <td>0</td>
          <td>0</td>
          <td>0.000</td>
        </tr>
        <tr>
          <th>Total</th>
          <th>0</th>
          <th>0</th>
          <th id="totalMoneySpent">0.000</th>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="fullSalesContainer">
    <div id="fullSalesTable">
      <h3>Full Sales</h3>
      <button class="close-button" id="closeFullSales">Close</button>
      <table>
        <thead>
          <tr>
            <th>Item</th>
            <th>Quantity</th>
            <th>Total Amount</th>
          </tr>
        </thead>
        <tbody id="fullSalesSummary">
          <tr>
            <td>Awar Galb</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>Lemonade</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>Zaatar</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>Nutella</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>Sausage and Kraft Cheese</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>Chicken Rashid</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>Hashbrown</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <td>KDD Ice Cream</td>
            <td>0</td>
            <td>0.000 KD</td>
          </tr>
          <tr>
            <th>Total</th>
            <th>0</th>
            <th id="fullSalesTotal">0.000 KD</th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <button class="sales-button" id="showFullSales">Full Sales</button>

  <script>
    // Define the current version of the app
    const appVersion = '1.8.0'; // Incremented version number

    // Function to check version and clear localStorage if needed
    function checkAndClearLocalStorage() {
      const storedVersion = localStorage.getItem('appVersion');
      if (storedVersion !== appVersion) {
        // Clear the specific localStorage items used by the app
        localStorage.removeItem('cashierData'); // Remove the 'cashierData' key

        // Update the stored version to the current version
        localStorage.setItem('appVersion', appVersion);
      }
    }

    // Invoke the version check on page load
    checkAndClearLocalStorage();

    // Get quantity inputs
    const awarGalbQuantity = document.getElementById('awarGalbQuantity');
    const sausageKraftQuantity = document.getElementById('sausageKraftQuantity');
    const nutellaQuantity = document.getElementById('nutellaQuantity');
    const zaatarQuantity = document.getElementById('zaatarQuantity');
    const chickenRashidQuantity = document.getElementById('chickenRashidQuantity');
    const lemonadeQuantity = document.getElementById('lemonadeQuantity');
    const kddIceCreamQuantity = document.getElementById('kddIceCreamQuantity');
    const hashbrownQuantity = document.getElementById('hashbrownQuantity');

    const totalAmount = document.getElementById('totalAmount');
    const placeOrderButton = document.getElementById('placeOrder');
    const orderSummary = document.getElementById('orderSummary');
    const totalMoneySpent = document.getElementById('totalMoneySpent');
    const fullSalesContainer = document.getElementById('fullSalesContainer');
    const showFullSalesButton = document.getElementById('showFullSales');
    const closeFullSalesButton = document.getElementById('closeFullSales');
    const fullSalesSummary = document.getElementById('fullSalesSummary');
    const fullSalesTotal = document.getElementById('fullSalesTotal');

    const toppingsYesButton = document.getElementById('toppingsYes');
    const toppingsNoButton = document.getElementById('toppingsNo');
    let kddIceCreamToppings = false; // Default to no toppings

    const prices = {
      'Awar Galb': 0.750,
      'Sausage and Kraft Cheese': 0.750,
      'Nutella': 0.750,
      'Za\'atar': 0.500,
      'Chicken Rashid': 0.750,
      'Lemonade': 0.500,
      'KDD Ice Cream': 0.500,
      'Hashbrown': 0.750
    };

    let awarGalbTotal = 0;
    let sausageKraftTotal = 0;
    let nutellaTotal = 0;
    let zaatarTotal = 0;
    let chickenRashidTotal = 0;
    let lemonadeTotal = 0;
    let kddIceCreamTotal = 0;
    let hashbrownTotal = 0;
    let grandTotal = 0;

    function updateTotal() {
      const awarGalbQuantityValue = parseInt(awarGalbQuantity.value);
      const sausageKraftQuantityValue = parseInt(sausageKraftQuantity.value);
      const nutellaQuantityValue = parseInt(nutellaQuantity.value);
      const zaatarQuantityValue = parseInt(zaatarQuantity.value);
      const chickenRashidQuantityValue = parseInt(chickenRashidQuantity.value);
      const lemonadeQuantityValue = parseInt(lemonadeQuantity.value);
      const kddIceCreamQuantityValue = parseInt(kddIceCreamQuantity.value);
      const hashbrownQuantityValue = parseInt(hashbrownQuantity.value);

      let kddIceCreamCost = kddIceCreamQuantityValue * prices['KDD Ice Cream'];
      if (kddIceCreamToppings) {
        kddIceCreamCost += kddIceCreamQuantityValue * 0.250;
      }

      const totalCost =
        (awarGalbQuantityValue * prices['Awar Galb']) +
        (sausageKraftQuantityValue * prices['Sausage and Kraft Cheese']) +
        (nutellaQuantityValue * prices['Nutella']) +
        (zaatarQuantityValue * prices['Za\'atar']) +
        (chickenRashidQuantityValue * prices['Chicken Rashid']) +
        (lemonadeQuantityValue * prices['Lemonade']) +
        kddIceCreamCost +
        (hashbrownQuantityValue * prices['Hashbrown']);

      totalAmount.textContent = totalCost.toFixed(3);
    }

    function resetQuantities() {
      awarGalbQuantity.value = 0;
      sausageKraftQuantity.value = 0;
      nutellaQuantity.value = 0;
      zaatarQuantity.value = 0;
      chickenRashidQuantity.value = 0;
      lemonadeQuantity.value = 0;
      kddIceCreamQuantity.value = 0;
      hashbrownQuantity.value = 0;
      kddIceCreamToppings = false;
      toppingsNoButton.classList.add('active');
      toppingsYesButton.classList.remove('active');
      updateTotal();
    }

    function updateOrderSummary() {
      const awarGalbQuantityValue = parseInt(awarGalbQuantity.value);
      const sausageKraftQuantityValue = parseInt(sausageKraftQuantity.value);
      const nutellaQuantityValue = parseInt(nutellaQuantity.value);
      const zaatarQuantityValue = parseInt(zaatarQuantity.value);
      const chickenRashidQuantityValue = parseInt(chickenRashidQuantity.value);
      const lemonadeQuantityValue = parseInt(lemonadeQuantity.value);
      const kddIceCreamQuantityValue = parseInt(kddIceCreamQuantity.value);
      const hashbrownQuantityValue = parseInt(hashbrownQuantity.value);

      const awarGalbRow = orderSummary.rows[0];
      const lemonadeRow = orderSummary.rows[1];
      const zaatarRow = orderSummary.rows[2];
      const nutellaRow = orderSummary.rows[3];
      const sausageKraftRow = orderSummary.rows[4];
      const chickenRashidRow = orderSummary.rows[5];
      const hashbrownRow = orderSummary.rows[6];
      const kddIceCreamRow = orderSummary.rows[7];
      const totalRow = orderSummary.rows[8];

      awarGalbTotal += awarGalbQuantityValue;
      lemonadeTotal += lemonadeQuantityValue;
      zaatarTotal += zaatarQuantityValue;
      nutellaTotal += nutellaQuantityValue;
      sausageKraftTotal += sausageKraftQuantityValue;
      chickenRashidTotal += chickenRashidQuantityValue;
      hashbrownTotal += hashbrownQuantityValue;
      kddIceCreamTotal += kddIceCreamQuantityValue;
      grandTotal = awarGalbTotal + lemonadeTotal + zaatarTotal + nutellaTotal + sausageKraftTotal + chickenRashidTotal + hashbrownTotal + kddIceCreamTotal;

      awarGalbRow.cells[1].textContent = awarGalbTotal;
      awarGalbRow.cells[2].textContent = awarGalbTotal;
      awarGalbRow.cells[3].textContent = (awarGalbTotal * prices['Awar Galb']).toFixed(3);

      lemonadeRow.cells[1].textContent = lemonadeTotal;
      lemonadeRow.cells[2].textContent = lemonadeTotal;
      lemonadeRow.cells[3].textContent = (lemonadeTotal * prices['Lemonade']).toFixed(3);

      zaatarRow.cells[1].textContent = zaatarTotal;
      zaatarRow.cells[2].textContent = zaatarTotal;
      zaatarRow.cells[3].textContent = (zaatarTotal * prices['Za\'atar']).toFixed(3);

      nutellaRow.cells[1].textContent = nutellaTotal;
      nutellaRow.cells[2].textContent = nutellaTotal;
      nutellaRow.cells[3].textContent = (nutellaTotal * prices['Nutella']).toFixed(3);

      sausageKraftRow.cells[1].textContent = sausageKraftTotal;
      sausageKraftRow.cells[2].textContent = sausageKraftTotal;
      sausageKraftRow.cells[3].textContent = (sausageKraftTotal * prices['Sausage and Kraft Cheese']).toFixed(3);

      chickenRashidRow.cells[1].textContent = chickenRashidTotal;
      chickenRashidRow.cells[2].textContent = chickenRashidTotal;
      chickenRashidRow.cells[3].textContent = (chickenRashidTotal * prices['Chicken Rashid']).toFixed(3);

      hashbrownRow.cells[1].textContent = hashbrownTotal;
      hashbrownRow.cells[2].textContent = hashbrownTotal;
      hashbrownRow.cells[3].textContent = (hashbrownTotal * prices['Hashbrown']).toFixed(3);

      let kddIceCreamCost = kddIceCreamTotal * prices['KDD Ice Cream'];
      if (kddIceCreamToppings) {
        kddIceCreamCost += kddIceCreamTotal * 0.250;
      }
      kddIceCreamRow.cells[1].textContent = kddIceCreamTotal;
      kddIceCreamRow.cells[2].textContent = kddIceCreamTotal;
      kddIceCreamRow.cells[3].textContent = kddIceCreamCost.toFixed(3);

      totalRow.cells[1].textContent = grandTotal;
      totalRow.cells[2].textContent = grandTotal;
      totalMoneySpent.textContent = (
        (awarGalbTotal * prices['Awar Galb']) +
        (lemonadeTotal * prices['Lemonade']) +
        (zaatarTotal * prices['Za\'atar']) +
        (nutellaTotal * prices['Nutella']) +
        (sausageKraftTotal * prices['Sausage and Kraft Cheese']) +
        (chickenRashidTotal * prices['Chicken Rashid']) +
        (hashbrownTotal * prices['Hashbrown']) +
        ((kddIceCreamTotal * prices['KDD Ice Cream']) + (kddIceCreamToppings ? kddIceCreamTotal * 0.250 : 0))
      ).toFixed(3);

      addToFullSales(
        awarGalbQuantityValue,
        lemonadeQuantityValue,
        zaatarQuantityValue,
        nutellaQuantityValue,
        sausageKraftQuantityValue,
        chickenRashidQuantityValue,
        hashbrownQuantityValue,
        kddIceCreamQuantityValue,
        kddIceCreamToppings
      );
      saveData();
      resetQuantities();
    }

    function addToFullSales(awarGalbQty, lemonadeQty, zaatarQty, nutellaQty, sausageKraftQty, chickenRashidQty, hashbrownQty, kddIceCreamQty, iceCreamToppings) {
      const awarGalbRow = fullSalesSummary.rows[0];
      const lemonadeRow = fullSalesSummary.rows[1];
      const zaatarRow = fullSalesSummary.rows[2];
      const nutellaRow = fullSalesSummary.rows[3];
      const sausageKraftRow = fullSalesSummary.rows[4];
      const chickenRashidRow = fullSalesSummary.rows[5];
      const hashbrownRow = fullSalesSummary.rows[6];
      const kddIceCreamRow = fullSalesSummary.rows[7];
      const totalRow = fullSalesSummary.rows[8];

      awarGalbRow.cells[1].textContent = parseInt(awarGalbRow.cells[1].textContent) + awarGalbQty;
      awarGalbRow.cells[2].textContent = (parseFloat(awarGalbRow.cells[2].textContent) + awarGalbQty * prices['Awar Galb']).toFixed(3) + " KD";

      lemonadeRow.cells[1].textContent = parseInt(lemonadeRow.cells[1].textContent) + lemonadeQty;
      lemonadeRow.cells[2].textContent = (parseFloat(lemonadeRow.cells[2].textContent) + lemonadeQty * prices['Lemonade']).toFixed(3) + " KD";

      zaatarRow.cells[1].textContent = parseInt(zaatarRow.cells[1].textContent) + zaatarQty;
      zaatarRow.cells[2].textContent = (parseFloat(zaatarRow.cells[2].textContent) + zaatarQty * prices['Za\'atar']).toFixed(3) + " KD";

      nutellaRow.cells[1].textContent = parseInt(nutellaRow.cells[1].textContent) + nutellaQty;
      nutellaRow.cells[2].textContent = (parseFloat(nutellaRow.cells[2].textContent) + nutellaQty * prices['Nutella']).toFixed(3) + " KD";

      sausageKraftRow.cells[1].textContent = parseInt(sausageKraftRow.cells[1].textContent) + sausageKraftQty;
      sausageKraftRow.cells[2].textContent = (parseFloat(sausageKraftRow.cells[2].textContent) + sausageKraftQty * prices['Sausage and Kraft Cheese']).toFixed(3) + " KD";

      chickenRashidRow.cells[1].textContent = parseInt(chickenRashidRow.cells[1].textContent) + chickenRashidQty;
      chickenRashidRow.cells[2].textContent = (parseFloat(chickenRashidRow.cells[2].textContent) + chickenRashidQty * prices['Chicken Rashid']).toFixed(3) + " KD";

      hashbrownRow.cells[1].textContent = parseInt(hashbrownRow.cells[1].textContent) + hashbrownQty;
      hashbrownRow.cells[2].textContent = (parseFloat(hashbrownRow.cells[2].textContent) + hashbrownQty * prices['Hashbrown']).toFixed(3) + " KD";

      let iceCreamAmount = kddIceCreamQty * prices['KDD Ice Cream'];
      if (iceCreamToppings) {
        iceCreamAmount += kddIceCreamQty * 0.250;
      }
      kddIceCreamRow.cells[1].textContent = parseInt(kddIceCreamRow.cells[1].textContent) + kddIceCreamQty;
      kddIceCreamRow.cells[2].textContent = (parseFloat(kddIceCreamRow.cells[2].textContent) + iceCreamAmount).toFixed(3) + " KD";

      totalRow.cells[1].textContent = parseInt(totalRow.cells[1].textContent) + awarGalbQty + lemonadeQty + zaatarQty + nutellaQty + sausageKraftQty + chickenRashidQty + hashbrownQty + kddIceCreamQty;

      fullSalesTotal.textContent = (parseFloat(fullSalesTotal.textContent) +
        awarGalbQty * prices['Awar Galb'] +
        lemonadeQty * prices['Lemonade'] +
        zaatarQty * prices['Za\'atar'] +
        nutellaQty * prices['Nutella'] +
        sausageKraftQty * prices['Sausage and Kraft Cheese'] +
        chickenRashidQty * prices['Chicken Rashid'] +
        hashbrownQty * prices['Hashbrown'] +
        iceCreamAmount
      ).toFixed(3) + " KD";

      saveData();
    }

    function saveData() {
      const data = {
        awarGalbTotal,
        lemonadeTotal,
        zaatarTotal,
        nutellaTotal,
        sausageKraftTotal,
        chickenRashidTotal,
        hashbrownTotal,
        kddIceCreamTotal,
        grandTotal,
        totalMoneySpent: totalMoneySpent.textContent,
        kddIceCreamToppings,
        fullSales: {
          awarGalbQty: fullSalesSummary.rows[0].cells[1].textContent,
          awarGalbAmount: fullSalesSummary.rows[0].cells[2].textContent,
          lemonadeQty: fullSalesSummary.rows[1].cells[1].textContent,
          lemonadeAmount: fullSalesSummary.rows[1].cells[2].textContent,
          zaatarQty: fullSalesSummary.rows[2].cells[1].textContent,
          zaatarAmount: fullSalesSummary.rows[2].cells[2].textContent,
          nutellaQty: fullSalesSummary.rows[3].cells[1].textContent,
          nutellaAmount: fullSalesSummary.rows[3].cells[2].textContent,
          sausageKraftQty: fullSalesSummary.rows[4].cells[1].textContent,
          sausageKraftAmount: fullSalesSummary.rows[4].cells[2].textContent,
          chickenRashidQty: fullSalesSummary.rows[5].cells[1].textContent,
          chickenRashidAmount: fullSalesSummary.rows[5].cells[2].textContent,
          hashbrownQty: fullSalesSummary.rows[6].cells[1].textContent,
          hashbrownAmount: fullSalesSummary.rows[6].cells[2].textContent,
          kddIceCreamQty: fullSalesSummary.rows[7].cells[1].textContent,
          kddIceCreamAmount: fullSalesSummary.rows[7].cells[2].textContent,
          totalQty: fullSalesSummary.rows[8].cells[1].textContent,
          totalAmount: fullSalesTotal.textContent
        }
      };
      localStorage.setItem('cashierData', JSON.stringify(data));
    }

    function loadData() {
      const data = JSON.parse(localStorage.getItem('cashierData'));
      if (data) {
        awarGalbTotal = data.awarGalbTotal;
        lemonadeTotal = data.lemonadeTotal;
        zaatarTotal = data.zaatarTotal;
        nutellaTotal = data.nutellaTotal;
        sausageKraftTotal = data.sausageKraftTotal;
        chickenRashidTotal = data.chickenRashidTotal;
        hashbrownTotal = data.hashbrownTotal;
        kddIceCreamTotal = data.kddIceCreamTotal;
        grandTotal = data.grandTotal;
        totalMoneySpent.textContent = data.totalMoneySpent;
        kddIceCreamToppings = data.kddIceCreamToppings;

        const awarGalbRow = orderSummary.rows[0];
        const lemonadeRow = orderSummary.rows[1];
        const zaatarRow = orderSummary.rows[2];
        const nutellaRow = orderSummary.rows[3];
        const sausageKraftRow = orderSummary.rows[4];
        const chickenRashidRow = orderSummary.rows[5];
        const hashbrownRow = orderSummary.rows[6];
        const kddIceCreamRow = orderSummary.rows[7];
        const totalRow = orderSummary.rows[8];

        awarGalbRow.cells[1].textContent = awarGalbTotal;
        awarGalbRow.cells[2].textContent = awarGalbTotal;
        awarGalbRow.cells[3].textContent = (awarGalbTotal * prices['Awar Galb']).toFixed(3);

        lemonadeRow.cells[1].textContent = lemonadeTotal;
        lemonadeRow.cells[2].textContent = lemonadeTotal;
        lemonadeRow.cells[3].textContent = (lemonadeTotal * prices['Lemonade']).toFixed(3);

        zaatarRow.cells[1].textContent = zaatarTotal;
        zaatarRow.cells[2].textContent = zaatarTotal;
        zaatarRow.cells[3].textContent = (zaatarTotal * prices['Za\'atar']).toFixed(3);

        nutellaRow.cells[1].textContent = nutellaTotal;
        nutellaRow.cells[2].textContent = nutellaTotal;
        nutellaRow.cells[3].textContent = (nutellaTotal * prices['Nutella']).toFixed(3);

        sausageKraftRow.cells[1].textContent = sausageKraftTotal;
        sausageKraftRow.cells[2].textContent = sausageKraftTotal;
        sausageKraftRow.cells[3].textContent = (sausageKraftTotal * prices['Sausage and Kraft Cheese']).toFixed(3);

        chickenRashidRow.cells[1].textContent = chickenRashidTotal;
        chickenRashidRow.cells[2].textContent = chickenRashidTotal;
        chickenRashidRow.cells[3].textContent = (chickenRashidTotal * prices['Chicken Rashid']).toFixed(3);

        hashbrownRow.cells[1].textContent = hashbrownTotal;
        hashbrownRow.cells[2].textContent = hashbrownTotal;
        hashbrownRow.cells[3].textContent = (hashbrownTotal * prices['Hashbrown']).toFixed(3);

        let kddIceCreamCost = kddIceCreamTotal * prices['KDD Ice Cream'];
        if (kddIceCreamToppings) {
          kddIceCreamCost += kddIceCreamTotal * 0.250;
        }
        kddIceCreamRow.cells[1].textContent = kddIceCreamTotal;
        kddIceCreamRow.cells[2].textContent = kddIceCreamTotal;
        kddIceCreamRow.cells[3].textContent = kddIceCreamCost.toFixed(3);

        totalRow.cells[1].textContent = grandTotal;
        totalRow.cells[2].textContent = grandTotal;

        // Load Full Sales Summary
        fullSalesSummary.rows[0].cells[1].textContent = data.fullSales.awarGalbQty;
        fullSalesSummary.rows[0].cells[2].textContent = data.fullSales.awarGalbAmount;

        fullSalesSummary.rows[1].cells[1].textContent = data.fullSales.lemonadeQty;
        fullSalesSummary.rows[1].cells[2].textContent = data.fullSales.lemonadeAmount;

        fullSalesSummary.rows[2].cells[1].textContent = data.fullSales.zaatarQty;
        fullSalesSummary.rows[2].cells[2].textContent = data.fullSales.zaatarAmount;

        fullSalesSummary.rows[3].cells[1].textContent = data.fullSales.nutellaQty;
        fullSalesSummary.rows[3].cells[2].textContent = data.fullSales.nutellaAmount;

        fullSalesSummary.rows[4].cells[1].textContent = data.fullSales.sausageKraftQty;
        fullSalesSummary.rows[4].cells[2].textContent = data.fullSales.sausageKraftAmount;

        fullSalesSummary.rows[5].cells[1].textContent = data.fullSales.chickenRashidQty;
        fullSalesSummary.rows[5].cells[2].textContent = data.fullSales.chickenRashidAmount;

        fullSalesSummary.rows[6].cells[1].textContent = data.fullSales.hashbrownQty;
        fullSalesSummary.rows[6].cells[2].textContent = data.fullSales.hashbrownAmount;

        fullSalesSummary.rows[7].cells[1].textContent = data.fullSales.kddIceCreamQty;
        fullSalesSummary.rows[7].cells[2].textContent = data.fullSales.kddIceCreamAmount;

        fullSalesSummary.rows[8].cells[1].textContent = data.fullSales.totalQty;
        fullSalesTotal.textContent = data.fullSales.totalAmount;

        // Update toppings buttons
        if (kddIceCreamToppings) {
          toppingsYesButton.classList.add('active');
          toppingsNoButton.classList.remove('active');
        } else {
          toppingsYesButton.classList.remove('active');
          toppingsNoButton.classList.add('active');
        }
      }
    }

    // Event listeners for increment and decrement buttons
    document.getElementById('incrementAwarGalb').addEventListener('click', () => {
      awarGalbQuantity.value = parseInt(awarGalbQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementAwarGalb').addEventListener('click', () => {
      if (awarGalbQuantity.value > 0) {
        awarGalbQuantity.value = parseInt(awarGalbQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementLemonade').addEventListener('click', () => {
      lemonadeQuantity.value = parseInt(lemonadeQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementLemonade').addEventListener('click', () => {
      if (lemonadeQuantity.value > 0) {
        lemonadeQuantity.value = parseInt(lemonadeQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementZaatar').addEventListener('click', () => {
      zaatarQuantity.value = parseInt(zaatarQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementZaatar').addEventListener('click', () => {
      if (zaatarQuantity.value > 0) {
        zaatarQuantity.value = parseInt(zaatarQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementNutella').addEventListener('click', () => {
      nutellaQuantity.value = parseInt(nutellaQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementNutella').addEventListener('click', () => {
      if (nutellaQuantity.value > 0) {
        nutellaQuantity.value = parseInt(nutellaQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementSausageKraft').addEventListener('click', () => {
      sausageKraftQuantity.value = parseInt(sausageKraftQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementSausageKraft').addEventListener('click', () => {
      if (sausageKraftQuantity.value > 0) {
        sausageKraftQuantity.value = parseInt(sausageKraftQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementChickenRashid').addEventListener('click', () => {
      chickenRashidQuantity.value = parseInt(chickenRashidQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementChickenRashid').addEventListener('click', () => {
      if (chickenRashidQuantity.value > 0) {
        chickenRashidQuantity.value = parseInt(chickenRashidQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementHashbrown').addEventListener('click', () => {
      hashbrownQuantity.value = parseInt(hashbrownQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementHashbrown').addEventListener('click', () => {
      if (hashbrownQuantity.value > 0) {
        hashbrownQuantity.value = parseInt(hashbrownQuantity.value) - 1;
        updateTotal();
      }
    });

    document.getElementById('incrementKDDIceCream').addEventListener('click', () => {
      kddIceCreamQuantity.value = parseInt(kddIceCreamQuantity.value) + 1;
      updateTotal();
    });

    document.getElementById('decrementKDDIceCream').addEventListener('click', () => {
      if (kddIceCreamQuantity.value > 0) {
        kddIceCreamQuantity.value = parseInt(kddIceCreamQuantity.value) - 1;
        updateTotal();
      }
    });

    placeOrderButton.addEventListener('click', updateOrderSummary);

    showFullSalesButton.addEventListener('click', () => {
      fullSalesContainer.style.display = 'flex';
    });

    closeFullSalesButton.addEventListener('click', () => {
      fullSalesContainer.style.display = 'none';
    });

    // Toppings toggle buttons
    toppingsYesButton.addEventListener('click', () => {
      kddIceCreamToppings = true;
      toppingsYesButton.classList.add('active');
      toppingsNoButton.classList.remove('active');
      updateTotal();
    });

    toppingsNoButton.addEventListener('click', () => {
      kddIceCreamToppings = false;
      toppingsNoButton.classList.add('active');
      toppingsYesButton.classList.remove('active');
      updateTotal();
    });

    // Load data on page load
    window.addEventListener('load', loadData);
  </script>
</body>
</html>
